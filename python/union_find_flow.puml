@startuml union_find_flow
skinparam dpi 300
!theme plain

' 한글 폰트 설정
skinparam defaultFontName "Malgun Gothic"
skinparam titleFontName "Malgun Gothic"
skinparam noteFontName "Malgun Gothic"

title Union-Find 알고리즘 흐름도

start

:초기화: parent[i] = i (각 노드가 자기 자신을 부모로 가짐);

partition "Find 함수 (경로 압축)" {
  :find(x) 호출;
  if (parent[x] == x?) then (yes)
    :return x (루트 노드 발견);
  else (no)
    :parent[x] = find(parent[x]) (재귀 호출 + 경로 압축);
    :return parent[x];
  endif
}

partition "Merge 함수 (합집합)" {
  :merge(x, y) 호출;
  :x = find(x) (x의 루트 찾기);
  :y = find(y) (y의 루트 찾기);
  if (x == y?) then (yes)
    :이미 같은 집합 (종료);
  else (no)
    :parent[y] = x (y의 루트를 x에 연결);
  endif
}

partition "Is_Union 함수 (집합 확인)" {
  :is_union(x, y) 호출;
  :return find(x) == find(y);
}

stop

note right
  **경로 압축의 효과:**
  find 연산 시 경로상의 모든 노드가
  직접 루트를 가리키도록 최적화
end note

@enduml
